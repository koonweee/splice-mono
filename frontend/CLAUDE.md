# CLAUDE.md

This file provides guidance to Claude Code (claude.ai/code) when working with code in this repository.

## Project Overview

React frontend for the Splice financial management application. Built with TanStack Start (Router + Query), Vite, and Tailwind CSS.

## Commands

```bash
# Development
yarn dev                  # Start dev server (port 4000)
yarn build                # Production build
yarn serve                # Preview production build

# Testing
yarn test                 # Run Vitest tests
yarn typecheck            # TypeScript type checking

# Code Quality
yarn check                # Format + lint auto-fix
yarn format               # Prettier only
yarn lint                 # ESLint only

# API Client
yarn orval                # Regenerate API client from backend OpenAPI
```

## Architecture

### File-Based Routing (`src/routes/`)

TanStack Router uses file-based routing. Route files define the route and component:

- `src/routes/index.tsx` → `/`
- `src/routes/accounts.tsx` → `/accounts`
- `src/routes/accounts.$id.tsx` → `/accounts/:id`
- `src/routes/__root.tsx` → Root layout (wraps all routes)

Route tree is auto-generated in `src/routeTree.gen.ts` - do not edit manually.

### API Client (`src/api/`)

Generated by Orval from backend OpenAPI spec:

- `src/api/clients/` - React Query hooks for each endpoint
- `src/api/models/` - TypeScript types matching backend schemas

To regenerate after backend API changes:

```bash
# Backend must be running at localhost:3000
yarn orval
```

### Data Fetching

Use TanStack Query via the generated Orval hooks:

```typescript
import { useGetAccounts } from '../api/clients/spliceAPI'

function AccountList() {
  const { data, isLoading } = useGetAccounts()
  // ...
}
```

### Styling

Tailwind CSS 4 with Vite plugin. Global styles in `src/styles.css`.

### Components

Shared components in `src/components/`. Icons from `lucide-react`.

## Testing

Uses Vitest with Testing Library. Tests can be co-located with components or in a `__tests__` directory.
